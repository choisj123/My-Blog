(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[869],{2439:function(e,t,a){Promise.resolve().then(a.bind(a,2505))},2505:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var s=a(7437),l=a(2265),n=a(9376),r=a(605),u=a(3464);function o(){let[e,t]=(0,l.useState)(""),[a,o]=(0,l.useState)(""),i=(0,n.useRouter)(),{data:c,status:d}=(0,r.useSession)(),h=async t=>{if(t.preventDefault(),"authenticated"!==d){alert("로그인 후 이용해주세요."),i.push("/login");return}if(!e||!a){alert("제목과 내용은 필수입니다.");return}try{let t=await u.Z.post("/api/board",{title:e,content:a});if(201===t.status){let e=t.data.post_no;alert("게시글이 작성되었습니다."),i.push("/post/".concat(e))}else throw Error("게시글 작성 실패")}catch(e){console.error("게시글 작성 실패:",e),alert("게시글 작성에 실패했습니다: "+e.message)}};return"loading"===d?(0,s.jsx)("div",{children:"로딩중..."}):"unauthenticated"===d?(i.push("/login"),null):(0,s.jsxs)("div",{className:"max-w-2xl mx-auto mt-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"게시글 작성"}),(0,s.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"title",className:"block mb-1",children:"제목"}),(0,s.jsx)("input",{type:"text",id:"title",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full px-3 py-2 border rounded"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"content",className:"block mb-1",children:"내용"}),(0,s.jsx)("textarea",{id:"content",value:a,onChange:e=>o(e.target.value),required:!0,className:"w-full px-3 py-2 border rounded h-40"})]}),(0,s.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"게시글 작성"})]})]})}}},function(e){e.O(0,[605,301,971,117,744],function(){return e(e.s=2439)}),_N_E=e.O()}]);